<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produk - D'jamoe</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'primary': '#154424',
              'accent': '#E6D793',
              'dark-bg': '#0a1c11',
              'dark-card': '#1a3a24',
              'light-text': '#FBF8ED',
            },
            fontFamily: {
              'sans': ['Inter', 'sans-serif'],
              'serif': ['Playfair Display', 'serif'],
            }
          }
        }
      }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a1c11;
            background-image: linear-gradient(160deg, #1a3a24 0%, #0a1c11 74%);
            background-attachment: fixed;
        }

        .reveal-animation {
            opacity: 0;
            filter: blur(5px);
            transform: translateY(50px) scale(0.98);
            transition: opacity 0.8s cubic-bezier(0.5, 1, 0.89, 1), 
                        transform 0.8s cubic-bezier(0.5, 1, 0.89, 1),
                        filter 0.8s cubic-bezier(0.5, 1, 0.89, 1);
        }
        .reveal-animation.is-visible {
            opacity: 1;
            filter: blur(0);
            transform: translateY(0) scale(1);
        }
        
        .best-seller-tag {
            position: absolute;
            top: 1rem;
            left: -0.5rem;
            background-color: #E6D793;
            color: #154424;
            padding: 0.3rem 1rem;
            font-size: 0.75rem;
            font-weight: bold;
            z-index: 10;
            border-radius: 0 9999px 9999px 0;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        .category-card img {
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .category-card:hover img {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-dark-bg text-light-text">

    <!-- Header / Navbar -->
    <header class="sticky top-0 z-50 p-2 sm:p-4 transition-transform duration-300">
        <div class="container mx-auto flex justify-between items-center bg-primary/30 backdrop-blur-lg rounded-full text-white p-2 shadow-lg">
            <a href="index.html" class="flex-shrink-0">
                <img src="gambar/logo_dj.png" alt="Logo D'jamoe" class="h-10 ml-2">
            </a>
            <nav class="hidden md:flex items-center gap-6 font-semibold">
                <a href="index.html" class="text-accent/70 hover:text-white transition-colors">Beranda</a>
                <a href="produk.html" class="font-bold text-white">Produk</a>
                <a href="aktivitas.html" class="text-accent/70 hover:text-white transition-colors">Aktivitas</a>
                <a href="outlet.html" class="text-accent/70 hover:text-white transition-colors">Temukan Kami</a>
                <a href="about.html" class="text-accent/70 hover:text-white transition-colors">Tentang Kami</a>
            </nav>
            <div class="flex items-center gap-2">
                <button id="mobile-menu-button" class="md:hidden p-2 rounded-full text-accent hover:bg-accent/10">
                    <i data-lucide="menu" class="h-6 w-6"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-primary/95 backdrop-blur-lg z-[90] hidden md:hidden">
        <div class="flex flex-col items-center justify-center h-full gap-8 text-2xl font-semibold">
            <a href="index.html" class="text-accent hover:text-white transition-colors">Beranda</a>
            <a href="produk.html" class="font-bold text-white">Produk</a>
            <a href="aktivitas.html" class="text-accent hover:text-white transition-colors">Aktivitas</a>
            <a href="outlet.html" class="text-accent hover:text-white transition-colors">Temukan Kami</a>
            <a href="about.html" class="text-accent hover:text-white transition-colors">Tentang Kami</a>
        </div>
    </div>

    <main>
        <!-- Hero Section -->
        <section class="relative h-[60vh] bg-cover bg-center flex items-center justify-center text-center text-white" style="background-image: linear-gradient(rgba(10, 28, 17, 0.7), rgba(10, 28, 17, 0.8)), url('gambar/gambar-produk.jpeg');">
            <div class="reveal-animation">
                <h1 class="text-4xl md:text-7xl font-serif font-bold text-accent">Warisan Kebaikan Alam</h1>
                <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-white/90">Temukan varian jamu yang diciptakan khusus untuk menjaga kesehatan Anda.</p>
            </div>
        </section>

        <!-- Product Section -->
        <section id="produk" class="py-24">
            <div class="container mx-auto px-4">

                <!-- Tampilan Kategori -->
                <div id="category-view">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl md:text-5xl font-serif font-bold text-accent reveal-animation">Katalog Produk</h2>
                        <p class="text-light-text/70 mt-4 max-w-2xl mx-auto reveal-animation" style="transition-delay: 100ms;">Pilih kategori untuk menemukan produk yang paling sesuai dengan kebutuhan Anda.</p>
                    </div>
                    <div id="category-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Kategori akan dimuat di sini oleh JavaScript -->
                    </div>
                </div>

                <!-- Tampilan Produk (Awalnya Tersembunyi) -->
                <div id="product-view" class="hidden">
                    <div class="text-center mb-12">
                         <button id="back-to-categories" class="mb-4 inline-flex items-center gap-2 text-accent/80 hover:text-accent transition-colors">
                            <i data-lucide="arrow-left" class="w-5 h-5"></i>
                            Kembali ke Semua Kategori
                        </button>
                        <h2 id="product-view-title" class="text-4xl md:text-5xl font-serif font-bold text-accent reveal-animation"></h2>
                    </div>
                    <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                        <!-- Produk akan dimuat di sini oleh JavaScript -->
                    </div>
                    <div id="no-results" class="text-center text-accent/60 py-16 hidden">
                        <i data-lucide="frown" class="w-16 h-16 mx-auto mb-4"></i>
                        <h3 class="text-2xl font-bold">Produk tidak ditemukan</h3>
                        <p>Saat ini tidak ada produk dalam kategori ini.</p>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-black py-16">
        <div class="container mx-auto px-6 text-gray-300">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <h3 class="font-bold text-lg mb-4 text-accent">Alamat</h3>
                    <p class="text-gray-400">Jl. Ranumenggalan No.41, Mojorejo, Kec. Kartoharjo, <br>Kota Madiun, Jawa Timur 63119</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4 text-accent">Media Sosial</h3>
                    <div class="flex space-x-6 justify-center md:justify-start">
                        <a href="#" class="transition-transform hover:scale-110"><img src="gambar/icons8-instagram-48.png" alt="Instagram D'jamoe" class="w-10 h-10"></a>
                        <a href="#" class="transition-transform hover:scale-110"><img src="gambar/icons8-facebook-48.png" alt="Facebook D'jamoe" class="w-10 h-10"></a>
                        <a href="#" class="transition-transform hover:scale-110"><img src="gambar/icons8-whatsapp-48.png" alt="WhatsApp D'jamoe" class="w-10 h-10"></a>
                        <a href="#" class="transition-transform hover:scale-110"><img src="gambar/icons8-tiktok-48.png" alt="TikTok D'jamoe" class="w-10 h-10"></a>
                    </div>
                </div>
                 <div>
                    <h3 class="font-bold text-lg mb-4 text-accent">Jam Buka</h3>
                    <p class="text-gray-400">Senin - Jumat: 08:00 - 17:00</p>
                    <p class="text-gray-400">Sabtu: 09:00 - 15:00</p>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-8 text-center text-gray-400 text-sm">
                &copy; 2025 D'jamoe. Warisan Sehat dari Madiun.
            </div>
        </div>
    </footer>
    
    <!-- Bottom Navigation for Mobile -->
    <div class="md:hidden fixed bottom-0 left-0 right-0 z-40 bg-dark-card/80 backdrop-blur-lg border-t border-accent/20">
        <div class="flex justify-around items-center h-16">
            <a href="index.html" class="flex flex-col items-center justify-center text-accent/70 transition-colors">
                <i data-lucide="home" class="w-6 h-6 mb-1"></i><span class="text-xs">Beranda</span>
            </a>
            <a href="produk.html" class="flex flex-col items-center justify-center text-accent font-bold transition-colors">
                 <i data-lucide="shopping-bag" class="w-6 h-6 mb-1"></i><span class="text-xs">Produk</span>
            </a>
            <a href="aktivitas.html" class="flex flex-col items-center justify-center text-accent/70 transition-colors">
                <i data-lucide="zap" class="w-6 h-6 mb-1"></i><span class="text-xs">Aktivitas</span>
            </a>
            <a href="outlet.html" class="flex flex-col items-center justify-center text-accent/70 transition-colors">
                <i data-lucide="map-pin" class="w-6 h-6 mb-1"></i><span class="text-xs">Temukan Kami</span>
            </a>
        </div>
    </div>
    
    <!-- Modal Deskripsi Produk -->
    <div id="description-modal" class="fixed inset-0 z-[60] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 hidden opacity-0 transition-opacity duration-300">
        <div id="modal-content-wrapper" class="bg-dark-card rounded-lg shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto p-6 relative transform scale-95 transition-transform duration-300">
            <button id="modal-close-btn" class="absolute top-4 right-4 text-accent/50 hover:text-accent z-10">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <div class="relative w-full h-56 rounded-lg overflow-hidden mb-4">
                 <img id="modal-image" src="" alt="Gambar Produk" class="w-full h-full object-cover">
            </div>
            <h3 id="modal-title" class="text-3xl font-serif font-bold mb-2 text-accent"></h3>
            <span id="modal-price" class="text-xl font-sans font-bold text-white mb-4 block"></span>
            <p id="modal-description" class="text-light-text/80"></p>
            <a id="modal-contact-btn" href="#" target="_blank" class="mt-6 w-full bg-green-600 text-white py-3 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 text-base flex items-center justify-center gap-2">
                <i data-lucide="message-circle" class="w-5 h-5"></i> Pesan via WhatsApp
            </a>
        </div>
    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA KATEGORI (GANTI GAMBAR DI SINI) ---
        const categories = [
            { name: 'Siap Minum', image: 'https://placehold.co/500x500/102b19/E6D793?text=Siap+Minum' },
            { name: 'Rempah Kering', image: 'https://placehold.co/500x500/102b19/E6D793?text=Rempah+Kering' },
            { name: 'Hospital & Office', image: 'https://placehold.co/500x500/102b19/E6D793?text=Hospital+%26+Office' },
            { name: 'Sirup Herbal', image: 'https://placehold.co/500x500/102b19/E6D793?text=Sirup+Herbal' },
            { name: 'Paket Box', image: 'https://placehold.co/500x500/102b19/E6D793?text=Paket+Box' },
            { name: 'Paket Hampers', image: 'https://placehold.co/500x500/102b19/E6D793?text=Hampers' },
            { name: 'Paket Literan', image: 'https://placehold.co/500x500/102b19/E6D793?text=Literan' },
            { name: 'Kelas & Workshop', image: 'https://placehold.co/500x500/102b19/E6D793?text=Kelas' },
            { name: 'Paket Custom', image: 'https://placehold.co/500x500/102b19/E6D793?text=Custom' }
        ];

        // --- DATA PRODUK (EDIT DI SINI) ---
        const products = [
            { id: 1, name: 'Beras Kencur', price: 15000, category: 'Siap Minum', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Minuman tradisional penyegar tubuh dan penambah stamina.', fullDescription: 'Beras Kencur D\'jamoe dibuat dari beras pilihan dan kencur segar berkualitas. Minuman legendaris ini tidak hanya menyegarkan tetapi juga berkhasiat untuk meningkatkan nafsu makan, meredakan batuk, dan menjaga stamina tubuh.', bestSeller: true },
            { id: 2, name: 'Kunir Asem', price: 15000, category: 'Siap Minum', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Kebaikan kunyit dan asam untuk kesehatan pencernaan.', fullDescription: 'Perpaduan kunyit segar, asam jawa, dan gula aren murni menghasilkan rasa yang seimbang. Kunir Asem dikenal baik untuk melancarkan pencernaan, meredakan nyeri haid, dan sebagai antioksidan alami.', bestSeller: true },
            { id: 3, name: 'Gula Asem', price: 15000, category: 'Siap Minum', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Rasa manis asam yang khas dan menyegarkan tenggorokan.', fullDescription: 'Kesegaran alami dari asam jawa dan manisnya gula aren. Sangat cocok untuk melepas dahaga dan dipercaya baik untuk detoksifikasi tubuh.' },
            { id: 4, name: 'Wedang Uwuh', price: 25000, category: 'Rempah Kering', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Racikan rempah komplet untuk menghangatkan badan.', fullDescription: 'Terdiri dari daun cengkeh, daun pala, kayu secang, dan jahe. Menghangatkan badan dan kaya akan antioksidan.', bestSeller: true },
            { id: 5, name: 'Telang Sereh Celup', price: 30000, category: 'Rempah Kering', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Tisane unik berwarna biru alami yang kaya antioksidan.', fullDescription: 'Nikmati teh herbal bebas kafein dengan warna biru alami dari bunga telang dan aroma menenangkan dari sereh. Baik untuk relaksasi dan kesehatan mata.' },
            { id: 6, name: 'Jahe Instan', price: 20000, category: 'Hospital & Office', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Ekstrak jahe murni, praktis untuk meredakan masuk angin.', fullDescription: 'Dibuat dari ekstrak jahe emprit pilihan. Cukup seduh dengan air panas untuk meredakan mual dan masuk angin. Solusi praktis untuk pantry kantor atau paket pemulihan di rumah sakit.' },
            { id: 7, name: 'Temulawak Instan', price: 22000, category: 'Hospital & Office', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Baik untuk menjaga fungsi hati dan meningkatkan nafsu makan.', fullDescription: 'Herbal andalan untuk kesehatan hati. Temulawak dikenal sebagai hepatoprotektor alami, membantu menjaga fungsi liver dan meningkatkan nafsu makan. Cocok untuk program kesehatan karyawan atau pasien.' },
            { id: 8, name: 'Sirup Kunir Asem', price: 45000, category: 'Sirup Herbal', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Cara praktis menikmati kesegaran Kunir Asem kapan saja.', fullDescription: 'Praktis untuk stok di rumah. Cukup tambahkan air dan es batu untuk menikmati kesegaran Kunir Asem. Dibuat dari bahan alami tanpa pemanis buatan.' },
            { id: 9, name: 'Sirup Beras Kencur', price: 45000, category: 'Sirup Herbal', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Nikmati khasiat Beras Kencur dalam bentuk sirup praktis.', fullDescription: 'Kini lebih mudah menikmati Beras Kencur. Sirup kental yang dibuat dari resep asli, menjaga semua khasiat dan rasa otentik Beras Kencur.' },
            { id: 10, name: 'Paket Coba Djamoe', price: 75000, category: 'Paket Box', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Paket+Box', description: 'Kotak berisi 5 varian best-seller dalam ukuran kecil.', fullDescription: 'Cara terbaik untuk mencoba rasa otentik D\'jamoe. Paket ini berisi 5 botol varian terlaris kami. Cocok sebagai perkenalan atau hadiah kecil untuk kolega dan teman.'},
            { id: 11, name: 'Paket Box Sehat', price: 150000, category: 'Paket Hampers', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Hampers', description: 'Paket berisi varian jamu terbaik untuk orang tersayang.', fullDescription: 'Hadiah sempurna untuk orang terkasih. Berisi koleksi produk-produk best seller D\'jamoe dalam kemasan eksklusif.', bestSeller: true },
            { id: 12, name: 'Paket Literan', price: 100000, category: 'Paket Literan', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Literan', description: 'Stok jamu favoritmu dalam kemasan 1 liter yang lebih hemat.', fullDescription: 'Lebih hemat untuk konsumsi harian keluarga. Pilih varian jamu siap minum favoritmu dalam kemasan botol 1 liter.' },
            { id: 13, name: 'Djamoe Class Ticket', price: 125000, category: 'Kelas & Workshop', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Kelas', description: 'Tiket untuk ikut serta dalam workshop meracik jamu.', fullDescription: 'Beli tiket Anda untuk mengikuti Djamoe Class. Rasakan pengalaman meracik jamu sendiri dan bawa pulang hasil karya Anda.'},
            { id: 14, name: 'Rempah Sari Sukma', price: 20000, category: 'Siap Minum', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Jamu', description: 'Paduan rempah untuk menjaga vitalitas dan kebugaran.', fullDescription: 'Minuman herbal premium yang diracik dari berbagai rempah pilihan seperti jahe, kapulaga, dan cengkeh. Berfungsi untuk meningkatkan vitalitas dan melancarkan peredaran darah.', bestSeller: true },
            { id: 15, name: 'Custom Gift Box', price: 200000, category: 'Paket Custom', image: 'https://placehold.co/400x400/1a3a24/E6D793?text=Custom', description: 'Rakit sendiri paket hadiah sesuai keinginan Anda.', fullDescription: 'Pilih sendiri produk D\'jamoe favoritmu untuk dijadikan hadiah. Hubungi kami untuk merakit paket custom yang sempurna untuk kebutuhan Anda.'}
        ];
        
        // --- ELEMEN DOM ---
        const categoryView = document.getElementById('category-view');
        const productView = document.getElementById('product-view');
        const categoryGrid = document.getElementById('category-grid');
        const productGrid = document.getElementById('product-grid');
        const noResultsDiv = document.getElementById('no-results');
        const backToCategoriesBtn = document.getElementById('back-to-categories');
        const productViewTitle = document.getElementById('product-view-title');

        // --- RENDER KATEGORI ---
        function renderCategoryGrid() {
            categoryGrid.innerHTML = categories.map((cat, index) => `
                <div class="category-card-container reveal-animation" style="transition-delay: ${index * 50}ms;">
                    <div class="category-card cursor-pointer group relative rounded-lg overflow-hidden shadow-lg" data-category="${cat.name}">
                        <img src="${cat.image}" alt="${cat.name}" class="w-full h-80 object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent"></div>
                        <h3 class="absolute bottom-6 left-6 text-2xl font-serif font-bold text-white">${cat.name}</h3>
                    </div>
                </div>
            `).join('');
        }

        // --- TAMPILKAN PRODUK BERDASARKAN KATEGORI ---
        function displayProducts(categoryName) {
            const productsToDisplay = products.filter(p => p.category === categoryName);
            productViewTitle.textContent = categoryName;
            noResultsDiv.classList.toggle('hidden', productsToDisplay.length > 0);
            productGrid.innerHTML = '';
            
            if (productsToDisplay.length > 0) {
                productsToDisplay.forEach((product, index) => {
                    const priceFormatted = new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(product.price);
                    const productCard = document.createElement('div');
                    productCard.className = "bg-dark-card rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 group flex flex-col";
                    
                    productCard.innerHTML = `
                        <div class="relative">
                            ${product.bestSeller ? '<div class="best-seller-tag">Best Seller</div>' : ''}
                            <img src="${product.image}" alt="${product.name}" class="w-full h-56 object-cover">
                        </div>
                        <div class="p-5 flex flex-col flex-grow">
                            <h3 class="text-xl font-serif font-bold mb-2 text-accent">${product.name}</h3>
                            <p class="text-sm text-light-text/70 mb-4 flex-grow">${product.description}</p>
                            <div class="mt-auto pt-4 border-t border-accent/20">
                                <span class="text-lg font-sans font-bold text-white">${priceFormatted}</span>
                                <button data-product-id="${product.id}" class="description-btn mt-3 w-full text-center bg-primary/80 text-accent py-2 px-3 rounded-full hover:bg-accent hover:text-primary transition-colors duration-300 text-sm">Lihat Detail</button>
                            </div>
                        </div>
                    `;
                    productGrid.appendChild(productCard);
                });
            }
            lucide.createIcons();
        }

        // --- EVENT LISTENERS ---
        categoryGrid.addEventListener('click', (e) => {
            const card = e.target.closest('.category-card');
            if (card) {
                const categoryName = card.dataset.category;
                categoryView.classList.add('hidden');
                productView.classList.remove('hidden');
                displayProducts(categoryName);
                window.scrollTo({ top: productView.offsetTop - 100, behavior: 'smooth' });
            }
        });

        backToCategoriesBtn.addEventListener('click', () => {
            productView.classList.add('hidden');
            categoryView.classList.remove('hidden');
        });

        // --- LOGIKA MODAL ---
        const modal = document.getElementById('description-modal');
        const modalContentWrapper = document.getElementById('modal-content-wrapper');
        const modalCloseBtn = document.getElementById('modal-close-btn');
        const modalImage = document.getElementById('modal-image');
        const modalTitle = document.getElementById('modal-title');
        const modalPrice = document.getElementById('modal-price');
        const modalDescription = document.getElementById('modal-description');
        const modalContactBtn = document.getElementById('modal-contact-btn');

        function openModal(productId) {
            const product = products.find(p => p.id === parseInt(productId));
            if (!product) return;
            modalImage.src = product.image;
            modalTitle.textContent = product.name;
            modalPrice.textContent = new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(product.price);
            modalDescription.textContent = product.fullDescription || product.description;
            modalContactBtn.href = `https://wa.me/6281234567890?text=Halo, saya tertarik dengan produk ${encodeURIComponent(product.name)}`;
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContentWrapper.classList.remove('scale-95');
            }, 10);
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.add('opacity-0');
            modalContentWrapper.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        productGrid.addEventListener('click', (event) => {
            const button = event.target.closest('.description-btn');
            if (button) openModal(button.dataset.productId);
        });
        modalCloseBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) closeModal();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
        });

        // --- LOGIKA UMUM & INISIALISASI ---
        const header = document.querySelector('header');
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuIcon = mobileMenuBtn.querySelector('i');
        let lastScrollTop = 0;

        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                const isMenuOpen = !mobileMenu.classList.contains('hidden');
                mobileMenu.classList.toggle('hidden');
                document.body.style.overflow = isMenuOpen ? '' : 'hidden';
                mobileMenuIcon.setAttribute('data-lucide', isMenuOpen ? 'menu' : 'x');
                lucide.createIcons();
            });
        }

        window.addEventListener('scroll', () => {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop && scrollTop > header.offsetHeight) {
                if (mobileMenu.classList.contains('hidden')) header.classList.add('-translate-y-full');
            } else {
                header.classList.remove('-translate-y-full');
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }, false);
        
        const animationObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('is-visible');
            });
        }, { threshold: 0.1 });

        renderCategoryGrid();
        document.querySelectorAll('.reveal-animation').forEach(el => animationObserver.observe(el));
        lucide.createIcons();
    });
    </script>
</body>
</html>

